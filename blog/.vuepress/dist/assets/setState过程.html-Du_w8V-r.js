import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,o,f as c}from"./app-C4tUi4gM.js";const d="/assets/0001-B2Hf0Rvn.png",a={},n=c('<h1 id="setstateè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#setstateè¿‡ç¨‹"><span><code>setState</code>è¿‡ç¨‹</span></a></h1><p><code>setState</code>ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p><p><strong>ç®€å•ç‰ˆæœ¬ï¼š</strong><code>react</code>åˆ©ç”¨çŠ¶æ€é˜Ÿåˆ—æœºåˆ¶å®ç°äº†<code>setState</code>çš„â€œå¼‚æ­¥â€æ›´æ–°ï¼Œé¿å…é¢‘ç¹çš„é‡å¤æ›´æ–°<code>state</code>ã€‚</p><p>é¦–å…ˆå°†æ–°çš„<code>state</code>åˆå¹¶åˆ°çŠ¶æ€æ›´æ–°é˜Ÿåˆ—ä¸­ï¼Œç„¶åæ ¹æ®æ›´æ–°é˜Ÿåˆ—å’Œ<code>shouldComponentUpdate</code>çš„çŠ¶æ€æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ç»„ä»¶ã€‚</p><p><strong>å¤æ‚ç‰ˆæœ¬ï¼š</strong></p><ul><li><code>enqueueSetState</code>å°†<code>state</code>æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶è°ƒç”¨<code>enqueueUpdate</code>å¤„ç†è¦æ›´æ–°çš„<code>Component</code></li><li>å¦‚æœç»„ä»¶å½“å‰æ­£å¤„äº<code>update</code>äº‹åŠ¡ä¸­ï¼Œåˆ™å…ˆå°†<code>Component</code>å­˜å…¥<code>dirtyComponent</code>ä¸­ã€‚å¦åˆ™è°ƒç”¨<code>batchedUpdates</code>å¤„ç†ã€‚</li><li><code>batchedUpdates</code>å‘èµ·ä¸€æ¬¡<code>transaction.perform()</code>äº‹åŠ¡</li><li>å¼€å§‹æ‰§è¡Œäº‹åŠ¡åˆå§‹åŒ–ï¼Œè¿è¡Œï¼Œç»“æŸä¸‰ä¸ªé˜¶æ®µ <ul><li>åˆå§‹åŒ–ï¼šäº‹åŠ¡åˆå§‹åŒ–é˜¶æ®µæ²¡æœ‰æ³¨å†Œæ–¹æ³•ï¼Œæ•…æ— æ–¹æ³•è¦æ‰§è¡Œ</li><li>è¿è¡Œï¼šæ‰§è¡Œ<code>setSate</code>æ—¶ä¼ å…¥çš„<code>callback</code>æ–¹æ³•</li><li>ç»“æŸï¼šæ›´æ–°<code>isBatchingUpdates</code>ä¸º<code>false</code>ï¼Œå¹¶æ‰§è¡Œ<code>FLUSH_BATCHED_UPDATES</code>è¿™ä¸ª<code>wrapper</code>ä¸­çš„<code>close</code>æ–¹æ³•<code>FLUSH_BATCHED_UPDATES</code>åœ¨<code>close</code>é˜¶æ®µï¼Œä¼šå¾ªç¯éå†æ‰€æœ‰çš„<code>dirtyComponents</code>ï¼Œè°ƒç”¨<code>updateComponent</code>åˆ·æ–°ç»„ä»¶ï¼Œå¹¶æ‰§è¡Œå®ƒçš„<code>pendingCallbacks</code>, ä¹Ÿå°±æ˜¯<code>setState</code>ä¸­è®¾ç½®çš„<code>callback</code>ã€‚</li></ul></li></ul><p><a href="https://juejin.cn/post/6844903781813993486#heading-9" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡ç« </a></p><ol><li>å°†<code>setState</code>ä¼ å…¥çš„<code>partialState</code>å‚æ•°å­˜å‚¨åœ¨å½“å‰ç»„ä»¶å®ä¾‹çš„<code>state</code>æš‚å­˜é˜Ÿåˆ—ä¸­ã€‚</li><li>åˆ¤æ–­å½“å‰<code>React</code>æ˜¯å¦å¤„äºæ‰¹é‡æ›´æ–°çŠ¶æ€ï¼Œå¦‚æœæ˜¯ï¼Œå°†å½“å‰ç»„ä»¶åŠ å…¥å¾…æ›´æ–°çš„ç»„ä»¶é˜Ÿåˆ—ä¸­ã€‚</li><li>å¦‚æœæœªå¤„äºæ‰¹é‡æ›´æ–°çŠ¶æ€ï¼Œå°†æ‰¹é‡æ›´æ–°çŠ¶æ€æ ‡è¯†è®¾ç½®ä¸º<code>true</code>ï¼Œç”¨äº‹åŠ¡å†æ¬¡è°ƒç”¨å‰ä¸€æ­¥æ–¹æ³•ï¼Œä¿è¯å½“å‰ç»„ä»¶åŠ å…¥åˆ°äº†å¾…æ›´æ–°ç»„ä»¶é˜Ÿåˆ—ä¸­ã€‚</li><li>è°ƒç”¨äº‹åŠ¡çš„<code>waper</code>æ–¹æ³•ï¼Œéå†å¾…æ›´æ–°ç»„ä»¶é˜Ÿåˆ—ä¾æ¬¡æ‰§è¡Œæ›´æ–°ã€‚</li><li>æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ<code>componentWillReceiveProps</code>ã€‚</li><li>å°†ç»„ä»¶çš„<code>state</code>ä¸æš‚å­˜é˜Ÿåˆ—ä¸­çš„<code>state</code>è¿›è¡Œåˆå¹¶ï¼Œè·å¾—æœ€ç»ˆè¦æ›´æ–°çš„<code>state</code>å¯¹è±¡ï¼Œå¹¶å°†é˜Ÿåˆ—ç½®ä¸ºç©ºã€‚</li><li>æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ<code>componentShouldUpdate</code>ï¼Œæ ¹æ®è¿”å›å€¼åˆ¤æ–­æ˜¯å¦è¦ç»§ç»­æ›´æ–°ã€‚</li><li>æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ<code>componentWillUpdate</code>ã€‚</li><li>æ‰§è¡ŒçœŸæ­£çš„æ›´æ–°ï¼Œ<code>render</code>ã€‚</li><li>æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ<code>componentDidUpdate</code>ã€‚</li></ol><figure><img src="'+d+'" alt="setStateæ‰§è¡Œæµç¨‹å›¾" tabindex="0" loading="lazy"><figcaption>setStateæ‰§è¡Œæµç¨‹å›¾</figcaption></figure>',9),s=[n];function l(i,p){return o(),t("div",null,s)}const u=e(a,[["render",l],["__file","setStateè¿‡ç¨‹.html.vue"]]),S=JSON.parse('{"path":"/REACT/setState%E8%BF%87%E7%A8%8B.html","title":"setStateè¿‡ç¨‹","lang":"zh-CN","frontmatter":{"description":"setStateè¿‡ç¨‹ setStateä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ ç®€å•ç‰ˆæœ¬ï¼š reactåˆ©ç”¨çŠ¶æ€é˜Ÿåˆ—æœºåˆ¶å®ç°äº†setStateçš„â€œå¼‚æ­¥â€æ›´æ–°ï¼Œé¿å…é¢‘ç¹çš„é‡å¤æ›´æ–°stateã€‚ é¦–å…ˆå°†æ–°çš„stateåˆå¹¶åˆ°çŠ¶æ€æ›´æ–°é˜Ÿåˆ—ä¸­ï¼Œç„¶åæ ¹æ®æ›´æ–°é˜Ÿåˆ—å’ŒshouldComponentUpdateçš„çŠ¶æ€æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ç»„ä»¶ã€‚ å¤æ‚ç‰ˆæœ¬ï¼š enqueueSetStateå°†stateæ”¾...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/REACT/setState%E8%BF%87%E7%A8%8B.html"}],["meta",{"property":"og:site_name","content":"ğŸ‘çš„åšå®¢ ï¼"}],["meta",{"property":"og:title","content":"setStateè¿‡ç¨‹"}],["meta",{"property":"og:description","content":"setStateè¿‡ç¨‹ setStateä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ ç®€å•ç‰ˆæœ¬ï¼š reactåˆ©ç”¨çŠ¶æ€é˜Ÿåˆ—æœºåˆ¶å®ç°äº†setStateçš„â€œå¼‚æ­¥â€æ›´æ–°ï¼Œé¿å…é¢‘ç¹çš„é‡å¤æ›´æ–°stateã€‚ é¦–å…ˆå°†æ–°çš„stateåˆå¹¶åˆ°çŠ¶æ€æ›´æ–°é˜Ÿåˆ—ä¸­ï¼Œç„¶åæ ¹æ®æ›´æ–°é˜Ÿåˆ—å’ŒshouldComponentUpdateçš„çŠ¶æ€æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ç»„ä»¶ã€‚ å¤æ‚ç‰ˆæœ¬ï¼š enqueueSetStateå°†stateæ”¾..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"ğŸ‘"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"setStateè¿‡ç¨‹\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ğŸ‘\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":1.65,"words":494},"filePathRelative":"REACT/setStateè¿‡ç¨‹.md","excerpt":"\\n<p><code>setState</code>ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>\\n<p><strong>ç®€å•ç‰ˆæœ¬ï¼š</strong>\\n<code>react</code>åˆ©ç”¨çŠ¶æ€é˜Ÿåˆ—æœºåˆ¶å®ç°äº†<code>setState</code>çš„â€œå¼‚æ­¥â€æ›´æ–°ï¼Œé¿å…é¢‘ç¹çš„é‡å¤æ›´æ–°<code>state</code>ã€‚</p>\\n<p>é¦–å…ˆå°†æ–°çš„<code>state</code>åˆå¹¶åˆ°çŠ¶æ€æ›´æ–°é˜Ÿåˆ—ä¸­ï¼Œç„¶åæ ¹æ®æ›´æ–°é˜Ÿåˆ—å’Œ<code>shouldComponentUpdate</code>çš„çŠ¶æ€æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ç»„ä»¶ã€‚</p>\\n<p><strong>å¤æ‚ç‰ˆæœ¬ï¼š</strong></p>\\n<ul>\\n<li><code>enqueueSetState</code>å°†<code>state</code>æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶è°ƒç”¨<code>enqueueUpdate</code>å¤„ç†è¦æ›´æ–°çš„<code>Component</code></li>\\n<li>å¦‚æœç»„ä»¶å½“å‰æ­£å¤„äº<code>update</code>äº‹åŠ¡ä¸­ï¼Œåˆ™å…ˆå°†<code>Component</code>å­˜å…¥<code>dirtyComponent</code>ä¸­ã€‚å¦åˆ™è°ƒç”¨<code>batchedUpdates</code>å¤„ç†ã€‚</li>\\n<li><code>batchedUpdates</code>å‘èµ·ä¸€æ¬¡<code>transaction.perform()</code>äº‹åŠ¡</li>\\n<li>å¼€å§‹æ‰§è¡Œäº‹åŠ¡åˆå§‹åŒ–ï¼Œè¿è¡Œï¼Œç»“æŸä¸‰ä¸ªé˜¶æ®µ\\n<ul>\\n<li>åˆå§‹åŒ–ï¼šäº‹åŠ¡åˆå§‹åŒ–é˜¶æ®µæ²¡æœ‰æ³¨å†Œæ–¹æ³•ï¼Œæ•…æ— æ–¹æ³•è¦æ‰§è¡Œ</li>\\n<li>è¿è¡Œï¼šæ‰§è¡Œ<code>setSate</code>æ—¶ä¼ å…¥çš„<code>callback</code>æ–¹æ³•</li>\\n<li>ç»“æŸï¼šæ›´æ–°<code>isBatchingUpdates</code>ä¸º<code>false</code>ï¼Œå¹¶æ‰§è¡Œ<code>FLUSH_BATCHED_UPDATES</code>è¿™ä¸ª<code>wrapper</code>ä¸­çš„<code>close</code>æ–¹æ³•<code>FLUSH_BATCHED_UPDATES</code>åœ¨<code>close</code>é˜¶æ®µï¼Œä¼šå¾ªç¯éå†æ‰€æœ‰çš„<code>dirtyComponents</code>ï¼Œè°ƒç”¨<code>updateComponent</code>åˆ·æ–°ç»„ä»¶ï¼Œå¹¶æ‰§è¡Œå®ƒçš„<code>pendingCallbacks</code>, ä¹Ÿå°±æ˜¯<code>setState</code>ä¸­è®¾ç½®çš„<code>callback</code>ã€‚</li>\\n</ul>\\n</li>\\n</ul>","autoDesc":true}');export{u as comp,S as data};
