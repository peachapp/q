import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,o as t,f as i}from"./app-8HN3oAmX.js";const c={},d=i('<h1 id="移动端上拉加载下拉刷新" tabindex="-1"><a class="header-anchor" href="#移动端上拉加载下拉刷新"><span>移动端上拉加载下拉刷新</span></a></h1><p>上拉加载：上拉加载的本质是页面触底或者快要触底时需要触发的动作。</p><p>判断页面触底需要先了解一下下面几个属性：</p><ul><li><code>scrollTop</code>：浮动视窗的高度距离<code>window</code>顶部的距离，它会随着往上滚动而不断增加，初始值是<code>0</code>，它是一个变化的值。</li><li><code>clientHeight</code>：它是一个定值，表示屏幕可视区域的高度。</li><li><code>scrollHeight</code>：页面不能滚动也是存在的，此时<code>scrollHeight</code>等于<code>clientHeight</code>，<code>scrollHeight</code>表示<code>body</code>所有元素的总长度（包括<code>body</code>元素自身的<code>padding</code>）。</li></ul><p>下拉刷新：下拉刷新的本质是页面本身置于顶部时，用户下拉时需要触发的动作。</p><p>关于下拉刷新的原生实现，主要分成三步：</p><ul><li>监听原生<code>touchstart</code>事件，记录其初始位置的值，<code>e.touches[0].pageY</code>。</li><li>监听原生<code>touchmove</code>事件，记录并计算当前滑动的位置值与初始位置值的差值（当前位置值减去初始位置值），大于<code>0</code>表示向下拉动，并借助<code>css3</code>的<code>translateY</code>属性使元素随手势向下滑动对应的差值，同时也应设置一个允许滑动的最大值。</li><li>监听原生<code>touchend</code>事件，若此时元素滑动达到最大值，则触发<code>callback</code>，同时将<code>translateY</code>重设为<code>0</code>，元素回到初始位置。</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">scrollTop</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> clientHeight</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &gt;=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> scrollHeight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',8),l=[d];function s(a,n){return t(),o("div",null,l)}const p=e(c,[["render",s],["__file","移动端上拉加载下拉刷新.html.vue"]]),g=JSON.parse('{"path":"/JAVASCRIPT/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%B8%8A%E6%8B%89%E5%8A%A0%E8%BD%BD%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0.html","title":"移动端上拉加载下拉刷新","lang":"zh-CN","frontmatter":{"description":"移动端上拉加载下拉刷新 上拉加载：上拉加载的本质是页面触底或者快要触底时需要触发的动作。 判断页面触底需要先了解一下下面几个属性： scrollTop：浮动视窗的高度距离window顶部的距离，它会随着往上滚动而不断增加，初始值是0，它是一个变化的值。 clientHeight：它是一个定值，表示屏幕可视区域的高度。 scrollHeight：页面不能...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/JAVASCRIPT/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%B8%8A%E6%8B%89%E5%8A%A0%E8%BD%BD%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0.html"}],["meta",{"property":"og:site_name","content":"🍑的博客 ！"}],["meta",{"property":"og:title","content":"移动端上拉加载下拉刷新"}],["meta",{"property":"og:description","content":"移动端上拉加载下拉刷新 上拉加载：上拉加载的本质是页面触底或者快要触底时需要触发的动作。 判断页面触底需要先了解一下下面几个属性： scrollTop：浮动视窗的高度距离window顶部的距离，它会随着往上滚动而不断增加，初始值是0，它是一个变化的值。 clientHeight：它是一个定值，表示屏幕可视区域的高度。 scrollHeight：页面不能..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-20T06:06:03.000Z"}],["meta",{"property":"article:author","content":"🍑"}],["meta",{"property":"article:modified_time","content":"2024-08-20T06:06:03.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"移动端上拉加载下拉刷新\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-08-20T06:06:03.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"🍑\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[],"git":{"createdTime":1723009479000,"updatedTime":1724133963000,"contributors":[{"name":"songzhichao","email":"caoxu@boyetrade.com","commits":1}]},"readingTime":{"minutes":1.2,"words":360},"filePathRelative":"JAVASCRIPT/移动端上拉加载下拉刷新.md","localizedDate":"2024年8月7日","excerpt":"\\n<p>上拉加载：上拉加载的本质是页面触底或者快要触底时需要触发的动作。</p>\\n<p>判断页面触底需要先了解一下下面几个属性：</p>\\n<ul>\\n<li><code>scrollTop</code>：浮动视窗的高度距离<code>window</code>顶部的距离，它会随着往上滚动而不断增加，初始值是<code>0</code>，它是一个变化的值。</li>\\n<li><code>clientHeight</code>：它是一个定值，表示屏幕可视区域的高度。</li>\\n<li><code>scrollHeight</code>：页面不能滚动也是存在的，此时<code>scrollHeight</code>等于<code>clientHeight</code>，<code>scrollHeight</code>表示<code>body</code>所有元素的总长度（包括<code>body</code>元素自身的<code>padding</code>）。</li>\\n</ul>","autoDesc":true}');export{p as comp,g as data};
