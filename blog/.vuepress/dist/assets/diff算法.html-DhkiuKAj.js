import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as a,f as n}from"./app-8HN3oAmX.js";const e={},l=n(`<h1 id="diffç®—æ³•" tabindex="-1"><a class="header-anchor" href="#diffç®—æ³•"><span><code>diff</code>ç®—æ³•</span></a></h1><p><code>diff</code>ç®—æ³•åŠŸèƒ½ï¼šæå‡æ€§èƒ½ã€‚</p><p>è™šæ‹Ÿ<code>DOM</code>ï¼šå°±æ˜¯æ•°æ®ï¼ˆæŠŠ<code>DOM</code>æ•°æ®åŒ–ï¼‰ã€‚</p><p>ä¸»æµçš„<code>diff</code>ç®—æ³•ï¼š<code>snabbdom</code>ã€<code>virtual-dom</code>ã€‚</p><h2 id="ä½¿ç”¨snabbdom" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨snabbdom"><span>ä½¿ç”¨<code>snabbdom</code></span></a></h2><p>æ­å»ºç¯å¢ƒï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>npm init -y</span></span>
<span class="line"><span>cnpm install webpack@5 webpack-cli@3 webpack-dev-server@3 -S</span></span>
<span class="line"><span>cnpm install snabbdom -S</span></span>
<span class="line"><span>æ–°å»ºwebpack.config.js</span></span>
<span class="line"><span>é…ç½®webpack.config.js</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// webpack.config.js</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  entry</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;./src/index.js&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  output</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    path</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> __dirname</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/public&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    filename</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;./js/[name].js&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  devServer</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    contentBase</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;./public&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    inline</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>hå‡½æ•°</code>ï¼šç”¨æ¥ç”Ÿæˆè™šæ‹Ÿ<code>DOM</code>ï¼š</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;ul&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// èŠ‚ç‚¹åç§°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {}, </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  // å†…å®¹ï¼ˆstringï¼‰æˆ–å­èŠ‚ç‚¹ï¼ˆarrayï¼‰</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;ä½ å¥½&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;ul&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// èŠ‚ç‚¹åç§°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {}, </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  // å†…å®¹ï¼ˆstringï¼‰æˆ–å­èŠ‚ç‚¹ï¼ˆarrayï¼‰</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  [</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;li&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;li&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;b&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;b&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;li&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;c&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;c&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è™šæ‹Ÿ<code>DOM</code>ï¼š</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  children</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">undefined</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å­èŠ‚ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {},</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  elm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">h1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// çœŸå®èŠ‚ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">undefined</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  sel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;h1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// èŠ‚ç‚¹åç§°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä½ å¥½&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // èŠ‚ç‚¹å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çœŸå®èŠ‚ç‚¹ï¼š</p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" data-title="html" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">h1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;ä½ å¥½&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">h1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ–°æ—§èŠ‚ç‚¹æ›¿æ¢çš„è§„åˆ™ï¼ˆ<code>patch</code>ï¼‰ï¼š</p><ol><li>å¦‚æœæ–°æ—§èŠ‚ç‚¹ä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹åç§°ï¼Œé‚£ä¹ˆå°±æš´åŠ›åˆ é™¤æ—§çš„èŠ‚ç‚¹ï¼Œåˆ›å»ºæ’å…¥æ–°çš„èŠ‚ç‚¹ã€‚</li><li>åªèƒ½åŒå±‚çº§æ¯”è¾ƒï¼Œä¸èƒ½è·¨å±‚çº§æ¯”è¾ƒã€‚å¦‚æœè·¨å±‚çº§ï¼Œé‚£ä¹ˆå°±æš´åŠ›åˆ é™¤æ—§çš„èŠ‚ç‚¹ï¼Œåˆ›å»ºæ’å…¥æ–°çš„èŠ‚ç‚¹ã€‚</li><li>å¦‚æœæ˜¯ç›¸åŒèŠ‚ç‚¹ï¼Œåˆåˆ†ä¸ºå¾ˆå¤šæƒ…å†µã€‚åˆ¤æ–­æ–°çš„èŠ‚ç‚¹æœ‰æ²¡æœ‰<code>children</code>ï¼š <ul><li>å¦‚æœæ–°çš„èŠ‚ç‚¹æ²¡æœ‰<code>children</code>ï¼Œé‚£å°±è¯æ˜æ–°èŠ‚ç‚¹æ˜¯æ–‡æœ¬ï¼Œç›´æ¥æŠŠæ—§çš„æ›¿æ¢æˆæ–°çš„æ–‡æœ¬ã€‚</li><li>å¦‚æœæ–°çš„èŠ‚ç‚¹æœ‰<code>children</code>ï¼Œåˆ¤æ–­æ—§çš„èŠ‚ç‚¹æœ‰æ²¡æœ‰<code>children</code>ï¼š <ul><li>æ–°çš„èŠ‚ç‚¹æœ‰<code>children</code>ï¼Œæ—§çš„èŠ‚ç‚¹ä¹Ÿæœ‰<code>children</code>ã€‚ --&gt; è¿™å°±æ˜¯<code>diff</code>ç®—æ³•çš„æ ¸å¿ƒäº†ã€‚ <ul><li>æ—§å‰ å’Œ æ–°å‰ <br> åŒ¹é…ï¼šæ—§å‰çš„æŒ‡é’ˆ ++ï¼Œæ–°å‰çš„æŒ‡é’ˆ ++ã€‚</li><li>æ—§å å’Œ æ–°å <br> åŒ¹é…ï¼šæ—§åçš„æŒ‡é’ˆ --ï¼Œæ–°åçš„æŒ‡é’ˆ --ã€‚</li><li>æ—§å‰ å’Œ æ–°å <br> åŒ¹é…ï¼šæ—§å‰çš„æŒ‡é’ˆ ++ï¼Œæ–°åçš„æŒ‡é’ˆ --ã€‚</li><li>æ—§å å’Œ æ–°å‰ <br> åŒ¹é…ï¼šæ—§åçš„æŒ‡é’ˆ --ï¼Œæ–°å‰çš„æŒ‡é’ˆ ++ã€‚</li><li>ä»¥ä¸Šéƒ½ä¸æ»¡è¶³æ¡ä»¶ --&gt; æŸ¥æ‰¾ <br> æ—§çš„æŒ‡é’ˆä¸åŠ¨ï¼Œæ–°çš„æŒ‡é’ˆ ++ï¼Œå¹¶ä¸”æŠŠæ–°çš„æ·»åŠ åˆ°é¡µé¢ä¸Šï¼Œå¦‚æœæ–°çš„åœ¨æ—§çš„ä¸­èƒ½æŸ¥æ‰¾åˆ°ï¼Œè¦ç»™æ—§çš„ä¸­è¿™ä¸ªèŠ‚ç‚¹èµ‹å€¼æˆ<code>undefined</code>ã€‚</li><li>åˆ›å»ºæˆ–è€…åˆ é™¤</li></ul></li><li>æ–°çš„èŠ‚ç‚¹æœ‰<code>children</code>ï¼Œæ—§çš„èŠ‚ç‚¹æ²¡æœ‰<code>children</code>ã€‚ --&gt; åˆ›å»ºå…ƒç´ æ·»åŠ ï¼ˆæŠŠæ—§çš„å†…å®¹åˆ é™¤æ¸…ç©ºæ‰ï¼Œæ·»åŠ æ–°çš„ï¼‰ã€‚</li></ul></li></ul></li></ol><p>æ³¨æ„ï¼šå¦‚æœè¦æå‡æ€§èƒ½ï¼Œä¸€å®šè¦åŠ å…¥<code>key</code>ï¼Œ<code>key</code>æ˜¯å”¯ä¸€æ ‡è¯†ï¼Œåœ¨æ›´æ”¹å‰åç¡®è®¤æ˜¯ä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><hr><ol><li><code>vue</code>ä¸­çš„<code>diff</code>ç®—æ³•ç§°ä¸º<code>patching</code>ç®—æ³•ï¼Œå®ƒç”±<code>snabbdom</code>ä¿®æ”¹è€Œæ¥ï¼Œè™šæ‹Ÿ<code>DOM</code>è¦æƒ³è½¬åŒ–ä¸ºçœŸå®<code>DOM</code>å°±éœ€è¦é€šè¿‡<code>patch</code>æ–¹æ³•è½¬æ¢ã€‚</li><li>æœ€åˆ<code>vue1</code>è§†å›¾ä¸­æ¯ä¸ªä¾èµ–å‡æœ‰æ›´æ–°å‡½æ•°å¯¹åº”ï¼Œå¯ä»¥åšåˆ°ç²¾å‡†æ›´æ–°ï¼Œå› æ­¤å¹¶ä¸éœ€è¦è™šæ‹Ÿ<code>DOM</code>å’Œ<code>patching</code>ç®—æ³•æ”¯æŒï¼Œä½†æ˜¯è¿™æ ·ç²’åº¦è¿‡ç»†å¯¼è‡´<code>vue1</code>æ— æ³•æ‰¿è½½è¾ƒå¤§åº”ç”¨ã€‚<code>vue2</code>ä¸­ä¸ºäº†é™ä½<code>Watcher</code>ç²’åº¦ï¼Œæ¯ä¸ªç»„ä»¶åªæœ‰ä¸€ä¸ª<code>Watcher</code>ä¸ä¹‹å¯¹åº”ï¼Œæ­¤æ—¶å°±éœ€è¦å¼•å…¥<code>patching</code>ç®—æ³•æ‰èƒ½ç²¾ç¡®æ‰¾åˆ°å‘ç”Ÿå˜åŒ–çš„åœ°æ–¹å¹¶é«˜æ•ˆæ›´æ–°ã€‚</li><li><code>vue</code>ä¸­<code>diff</code>æ‰§è¡Œçš„æ—¶åˆ»æ˜¯ç»„ä»¶å†…å“åº”å¼æ•°æ®å˜æ›´è§¦å‘å®ä¾‹æ‰§è¡Œå…¶æ›´æ–°å‡½æ•°æ—¶ï¼Œæ›´æ–°å‡½æ•°ä¼šå†æ¬¡æ‰§è¡Œ<code>render</code>æ–¹æ³•è·å¾—æœ€æ–°çš„è™šæ‹Ÿ<code>DOM</code>ï¼Œç„¶åæ‰§è¡Œ<code>patch</code>æ–¹æ³•ï¼Œå¹¶ä¼ å…¥æ–°æ—§ä¸¤æ¬¡è™šæ‹Ÿ<code>DOM</code>ï¼Œé€šè¿‡æ¯”å¯¹ä¸¤è€…æ‰¾åˆ°å˜åŒ–çš„åœ°æ–¹ï¼Œæœ€åå°†å…¶è½¬åŒ–ä¸ºå¯¹åº”çš„<code>DOM</code>æ“ä½œã€‚</li><li><code>patch</code>è¿‡ç¨‹æ˜¯ä¸€ä¸ªé€’å½’è¿‡ç¨‹ï¼Œéµå¾ªæ·±åº¦ä¼˜å…ˆã€åŒå±‚æ¯”è¾ƒçš„ç­–ç•¥ã€‚ä»¥<code>vue3</code>çš„<code>patch</code>ä¸ºä¾‹ï¼š <ul><li>é¦–å…ˆåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ä¸ºç›¸åŒåŒç±»èŠ‚ç‚¹ï¼Œä¸åŒåˆ™åˆ é™¤é‡æ–°åˆ›å»ºã€‚</li><li>å¦‚æœåŒæ–¹éƒ½æ˜¯æ–‡æœ¬åˆ™æ›´æ–°æ–‡æœ¬å†…å®¹ã€‚</li><li>å¦‚æœåŒæ–¹éƒ½æ˜¯å…ƒç´ èŠ‚ç‚¹åˆ™é€’å½’æ›´æ–°å­å…ƒç´ ï¼ŒåŒæ—¶æ›´æ–°å…ƒç´ å±æ€§ã€‚</li><li>æ›´æ–°å­èŠ‚ç‚¹æ—¶åˆåˆ†äº†å‡ ç§æƒ…å†µï¼š <ul><li>æ–°çš„å­èŠ‚ç‚¹æ˜¯æ–‡æœ¬ï¼Œè€çš„å­èŠ‚ç‚¹æ˜¯æ•°ç»„åˆ™æ¸…ç©ºï¼Œå¹¶è®¾ç½®æ–‡æœ¬ã€‚</li><li>æ–°çš„å­èŠ‚ç‚¹æ˜¯æ–‡æœ¬ï¼Œè€çš„å­èŠ‚ç‚¹æ˜¯æ–‡æœ¬åˆ™ç›´æ¥æ›´æ–°æ–‡æœ¬ã€‚</li><li>æ–°çš„å­èŠ‚ç‚¹æ˜¯æ•°ç»„ï¼Œè€çš„å­èŠ‚ç‚¹æ˜¯æ–‡æœ¬åˆ™æ¸…ç©ºæ–‡æœ¬ï¼Œå¹¶åˆ›å»ºæ–°å­èŠ‚ç‚¹æ•°ç»„ä¸­çš„å­å…ƒç´ ã€‚</li><li>æ–°çš„å­èŠ‚ç‚¹æ˜¯æ•°ç»„ï¼Œè€çš„å­èŠ‚ç‚¹ä¹Ÿæ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ¯”è¾ƒä¸¤ç»„å­èŠ‚ç‚¹ï¼Œæ›´æ–°ç»†èŠ‚ã€‚</li></ul></li></ul></li><li><code>vue3</code>ä¸­å¼•å…¥çš„æ›´æ–°ç­–ç•¥ï¼šç¼–è¯‘æœŸä¼˜åŒ–<code>patchFlags</code>ã€<code>block</code>ç­‰ã€‚</li></ol>`,19),t=[l];function h(d,p){return a(),s("div",null,t)}const r=i(e,[["render",h],["__file","diffç®—æ³•.html.vue"]]),o=JSON.parse('{"path":"/VUE/diff%E7%AE%97%E6%B3%95.html","title":"diffç®—æ³•","lang":"zh-CN","frontmatter":{"description":"diffç®—æ³• diffç®—æ³•åŠŸèƒ½ï¼šæå‡æ€§èƒ½ã€‚ è™šæ‹ŸDOMï¼šå°±æ˜¯æ•°æ®ï¼ˆæŠŠDOMæ•°æ®åŒ–ï¼‰ã€‚ ä¸»æµçš„diffç®—æ³•ï¼šsnabbdomã€virtual-domã€‚ ä½¿ç”¨snabbdom æ­å»ºç¯å¢ƒï¼š hå‡½æ•°ï¼šç”¨æ¥ç”Ÿæˆè™šæ‹ŸDOMï¼š è™šæ‹ŸDOMï¼š çœŸå®èŠ‚ç‚¹ï¼š æ–°æ—§èŠ‚ç‚¹æ›¿æ¢çš„è§„åˆ™ï¼ˆpatchï¼‰ï¼š å¦‚æœæ–°æ—§èŠ‚ç‚¹ä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹åç§°ï¼Œé‚£ä¹ˆå°±æš´åŠ›åˆ é™¤æ—§çš„èŠ‚ç‚¹ï¼Œåˆ›å»ºæ’å…¥æ–°çš„èŠ‚ç‚¹ã€‚ åª...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/VUE/diff%E7%AE%97%E6%B3%95.html"}],["meta",{"property":"og:site_name","content":"ğŸ‘çš„åšå®¢ ï¼"}],["meta",{"property":"og:title","content":"diffç®—æ³•"}],["meta",{"property":"og:description","content":"diffç®—æ³• diffç®—æ³•åŠŸèƒ½ï¼šæå‡æ€§èƒ½ã€‚ è™šæ‹ŸDOMï¼šå°±æ˜¯æ•°æ®ï¼ˆæŠŠDOMæ•°æ®åŒ–ï¼‰ã€‚ ä¸»æµçš„diffç®—æ³•ï¼šsnabbdomã€virtual-domã€‚ ä½¿ç”¨snabbdom æ­å»ºç¯å¢ƒï¼š hå‡½æ•°ï¼šç”¨æ¥ç”Ÿæˆè™šæ‹ŸDOMï¼š è™šæ‹ŸDOMï¼š çœŸå®èŠ‚ç‚¹ï¼š æ–°æ—§èŠ‚ç‚¹æ›¿æ¢çš„è§„åˆ™ï¼ˆpatchï¼‰ï¼š å¦‚æœæ–°æ—§èŠ‚ç‚¹ä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹åç§°ï¼Œé‚£ä¹ˆå°±æš´åŠ›åˆ é™¤æ—§çš„èŠ‚ç‚¹ï¼Œåˆ›å»ºæ’å…¥æ–°çš„èŠ‚ç‚¹ã€‚ åª..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-25T18:37:39.000Z"}],["meta",{"property":"article:author","content":"ğŸ‘"}],["meta",{"property":"article:modified_time","content":"2024-08-25T18:37:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"diffç®—æ³•\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-08-25T18:37:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ğŸ‘\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"ä½¿ç”¨snabbdom","slug":"ä½¿ç”¨snabbdom","link":"#ä½¿ç”¨snabbdom","children":[]}],"git":{"createdTime":1723794615000,"updatedTime":1724611059000,"contributors":[{"name":"songzhichao","email":"caoxu@boyetrade.com","commits":2}]},"readingTime":{"minutes":3.51,"words":1053},"filePathRelative":"VUE/diffç®—æ³•.md","localizedDate":"2024å¹´8æœˆ16æ—¥","excerpt":"\\n<p><code>diff</code>ç®—æ³•åŠŸèƒ½ï¼šæå‡æ€§èƒ½ã€‚</p>\\n<p>è™šæ‹Ÿ<code>DOM</code>ï¼šå°±æ˜¯æ•°æ®ï¼ˆæŠŠ<code>DOM</code>æ•°æ®åŒ–ï¼‰ã€‚</p>\\n<p>ä¸»æµçš„<code>diff</code>ç®—æ³•ï¼š<code>snabbdom</code>ã€<code>virtual-dom</code>ã€‚</p>\\n<h2>ä½¿ç”¨<code>snabbdom</code></h2>\\n<p>æ­å»ºç¯å¢ƒï¼š</p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>npm init -y</span></span>\\n<span class=\\"line\\"><span>cnpm install webpack@5 webpack-cli@3 webpack-dev-server@3 -S</span></span>\\n<span class=\\"line\\"><span>cnpm install snabbdom -S</span></span>\\n<span class=\\"line\\"><span>æ–°å»ºwebpack.config.js</span></span>\\n<span class=\\"line\\"><span>é…ç½®webpack.config.js</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{r as comp,o as data};
