# 组件中的`data`为什么必须是一个函数

`new Vue()`实例中，`data`可以直接是一个对象，在`vue`组件中，`data`为什么必须是一个函数呢？

因为组件是可以复用的，在`JavaScript`里对象是引用关系。如果组件中的`data`是一个对象，那么组件实例中的`data`属性值会相互污染，产生副作用。所以组件中的`data`必须是一个函数，这样每个组件实例就可以维护一份被返回对象的独立的拷贝，`new Vue`实例是不会被复用的，因此不会存在以上问题。

1. `vue`组件是用来复用的，为了防止`data`复用，需要将其定义为函数。
2. `vue`组件中的`data`数据都应该是相互隔离，互不影响的。组件每复用一次，`data`数据就应该被复制一次。当某一处复用组件中`data`数据被改变时，其他复用组件中的`data`数据不受影响，就需要通过`data`函数返回一个对象作为组件的状态。
3. 当组件中的`data`写成函数形式，数据以函数返回值形式定义，这样每复用一次组件，就会返回一份新的`data`，拥有自己的作用域，类似于给每个组件实例创建一个私有的数据空间，让各个组件实例维护各自的数据。
4. 当组件中的`data`写成对象形式，这些实例用的是同一个构造函数，由于`JavaScript`的特性，所有的组件实例共用了一个`data`，就会造成一处改变全都改变的结果。
