# 预解析和变量提升

`JavaScript`代码的执行分为两个阶段。第一个阶段在当前词法环境中注册所有的变量和函数声明，简单说就是，解析，解析完成之后，第二个阶段的`JavaScript`执行就开始了！

当`JavaScript`编译所有代码时，所有使用`var`的变量声明都被提升到它们的函数或局部作用域的顶部（如果在函数内部声明的话），或者提升到它们的全局作用域的顶部（如果在函数外部声明的话），而不管实际的声明是在哪里进行的。这就是我们所说的“提升”。这种“提升”实际上并不发生在代码中，而只是一种比喻，与`JavaScript`编译器如何读取代码有关。当我们想到“提升”的时候，我们可以想象任何被提升的东西都会被移动到作用域顶部，但是实际上的代码并不会被修改。

预解析分为变量预解析（变量提升）和函数预解析（函数提升）。

`js`引擎在运行一份代码的时候，会按照下面的步骤进行工作：

1. 把变量的声明提升到当前作用域的最前面，只会提升声明，不会提升赋值，这就是变量提升。
2. 把函数的声明提升到当前作用域的最前面，只会提升声明，不会提升调用，这就是函数提升。
3. 先提升`function`，再提升`var`，所以函数声明将位于所有变量声明之上。
